PUT main
{
  "mappings": {
    "properties": {
      "type": "nested",
      "properties": {
        "user": {
          "type": "nested",
          "properties": {
            "userId": {
              "type": "text"
            },
            "userName": {
              "type": "text"
            }
          }
        },
        "global": {
          "type": "nested",
          "properties": {
            "dateTime": {
              "type": "date"
            },
            "commentsDisabled": {
              "type": "boolean"
            },
            "commentCount": {
              "type": "long"
            },
            "likesDisabled": {
              "type": "boolean"
            },
            "locationText": {
              "type": "text"
            },
            "captionText": {
              "type": "text"
            }
          }
        },
        "media": {
          "type": "nested",
          "properties": {
            "id": {
              "type": "text"
            },
            "userId": {
              "type": "keyword"
            },
            "postId": {
              "type": "keyword"
            },
            "entityTag": {
              "type": "keyword"
            },
            "path": {
              "type": "text"
            },
            "altText": {
              "type": "text"
            },
            "mimeType": {
              "type": "text"
            }
          }
        }
      }
    }
  }
}

PUT profiles 
{
  "mappings": {
    "properties": {
      "profile": {
        "type": "nested",
        "properties": {
          "bio": {
            "type": "text"
          },
          "userId": {
            "type": "long"
          },
          "userName": {
            "type": "text"
          },
          "pfp": {
            "type": "text"
          },
          "firstName": {
            "type": "text"
          },
          "lastName": {
            "type": "text"
          },
          "gender": {
            "type": "text"
          },
          "pronouns": {
            "type": "text"
          },
          "link": {
            "type": "text"
          }
        }
      }
    }
  }
}