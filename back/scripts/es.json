PUT main
{
  "mappings": {
    "properties": {
      "user": {
        "type": "nested",
        "properties": {
          "userId": {
            "type": "keyword",
            "ignore_above": 256
          },
          "userName": {
            "type": "keyword",
            "ignore_above": 256
          }
        }
      },
      "global": {
        "type": "nested",
        "properties": {
          "dateTime": {
            "type": "date"
          },
          "commentsDisabled": {
            "type": "boolean"
          },
          "commentCount": {
            "type": "long"
          },
          "likesDisabled": {
            "type": "boolean"
          },
          "locationText": {
            "type": "keyword",
            "ignore_above": 256
          },
          "captionText": {
            "type": "text"
          }
        }
      },
      "media": {
        "type": "nested",
        "properties": {
          "id": {
            "type": "text"
          },
          "userId": {
            "type": "keyword",
            "ignore_above": 256
          },
          "postId": {
            "type": "keyword",
            "ignore_above": 256
          },
          "entityTag": {
            "type": "txt"
          },
          "path": {
            "type": "text"
          },
          "altText": {
            "type": "text"
          },
          "mimeType": {
            "type": "text"
          }
        }
      }
    }
  }
}


PUT profiles 
{
  "mappings": {
    "properties": {
      "profile": {
        "type": "nested",
        "properties": {
          "bio": {
            "type": "text"
          },
          "userId": {
            "type": "long"
          },
          "userName": {
            "type": "text"
          },
          "pfp": {
            "type": "text"
          },
          "firstName": {
            "type": "text"
          },
          "lastName": {
            "type": "text"
          },
          "gender": {
            "type": "text"
          },
          "pronouns": {
            "type": "text"
          },
          "link": {
            "type": "text"
          }
        }
      }
    }
  }
}